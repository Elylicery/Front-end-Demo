(()=>{"use strict";var e={797:(e,t,o)=>{o.d(t,{Z:()=>n});const n={popup:"src-components-popup-popup__popup--231tR","popup-title":"src-components-popup-popup__popup-title--1qc1l","popup-content":"src-components-popup-popup__popup-content--1K5M-",mask:"src-components-popup-popup__mask--16voV"}},962:(e,t,o)=>{o.d(t,{Z:()=>n});const n={video:"src-components-video-video__video--2oZ8U","video-content":"src-components-video-video__video-content--2rinz","video-controls":"src-components-video-video__video-controls--2Rq2k","video-progress":"src-components-video-video__video-progress--r1hsy","video-progress-now":"src-components-video-video__video-progress-now--20W7b","video-progress-suc":"src-components-video-video__video-progress-suc--1GB5e","video-progress-bar":"src-components-video-video__video-progress-bar--2md0_","video-play":"src-components-video-video__video-play--1Hw1z","video-time":"src-components-video-video__video-time--pZoMa","video-full":"src-components-video-video__video-full--IROtC","video-volume":"src-components-video-video__video-volume--1sBvf","video-volprogress":"src-components-video-video__video-volprogress--1hYX4","video-volprogress-now":"src-components-video-video__video-volprogress-now--2LXoP","video-volprogress-bar":"src-components-video-video__video-volprogress-bar--2nVZU"}}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=o(797).Z,t=function(){function t(e){this.settings=e,this.settings=Object.assign({width:"100%",height:"100%",title:"",pos:"center",mask:!0,content:function(){}},this.settings),this.init()}return t.prototype.init=function(){this.template(),this.settings.mask&&this.createMask(),this.handle(),this.contentCallback()},t.prototype.template=function(){this.tempContainer=document.createElement("div"),this.tempContainer.style.width=this.settings.width,this.tempContainer.style.height=this.settings.height,this.tempContainer.className=e.popup,this.tempContainer.innerHTML='\n      <div class="'+e["popup-title"]+'">\n        <h3>'+this.settings.title+'</h3>\n        <i class="iconfont">&#xe607;</i>\n      </div>\n      <div class="'+e["popup-content"]+'">\n      </div>\n    ',document.body.appendChild(this.tempContainer),"left"===this.settings.pos?(this.tempContainer.style.left=0,this.tempContainer.style.top=(window.innerHeight-this.tempContainer.offsetHeight)/2+"px"):"right"===this.settings.pos?(this.tempContainer.style.right=0,this.tempContainer.style.top=(window.innerHeight-this.tempContainer.offsetHeight)/2+"px"):(this.tempContainer.style.left=(window.innerWidth-this.tempContainer.offsetWidth)/2+"px",this.tempContainer.style.top=(window.innerHeight-this.tempContainer.offsetHeight)/2+"px")},t.prototype.handle=function(){var t=this;this.tempContainer.querySelector("."+e["popup-title"]+" i").addEventListener("click",(function(){document.body.removeChild(t.tempContainer),t.settings.mask&&document.body.removeChild(t.mask)}))},t.prototype.createMask=function(){this.mask=document.createElement("div"),this.mask.className=e.mask,this.mask.style.width="100%",this.mask.style.height=document.body.offsetHeight+"px",document.body.appendChild(this.mask)},t.prototype.contentCallback=function(){var t=this.tempContainer.querySelector("."+e["popup-content"]);this.settings.content(t)},t}();var n=o(962).Z,i=function(){function e(e){this.settings=e,this.settings=Object.assign({width:"100%",height:"100%",autoplay:!1},this.settings),this.init()}return e.prototype.init=function(){this.template(),this.handle()},e.prototype.template=function(){this.tempContainer=document.createElement("div"),this.tempContainer.className=n.video,this.tempContainer.style.width=this.settings.width,this.tempContainer.style.height=this.settings.height,this.tempContainer.innerHTML='\n      <video class="'+n["video-content"]+'" src="'+this.settings.url+'"></video>\n      <div class="'+n["video-controls"]+'">\n        <div class="'+n["video-progress"]+'">\n          <div class="'+n["video-progress-now"]+'"></div>\n          <div class="'+n["video-progress-suc"]+'"></div>\n          <div class="'+n["video-progress-bar"]+'"></div>\n        </div>\n        <div class="'+n["video-play"]+'">\n          <i class="iconfont">&#xe66e;</i>\n        </div>\n        <div class="'+n["video-time"]+'">\n          <span>00:00</span> / <span>00:00</span>\n        </div>\n        <div class="'+n["video-full"]+'">\n          <i class="iconfont">&#xe786;</i>\n        </div>\n        <div class="'+n["video-volume"]+'">\n          <i class="iconfont">&#xe642;</i>\n          <div class="'+n["video-volprogress"]+'">\n            <div class="'+n["video-volprogress-now"]+'"></div>\n            <div class="'+n["video-volprogress-bar"]+'"></div>\n          </div>\n        </div>\n      </div>\n    ',"object"==typeof this.settings.elem?(console.log("tempcontainer:",this.tempContainer),this.settings.elem.appendChild(this.tempContainer)):document.querySelector(""+this.settings.elem).appendChild(this.tempContainer)},e.prototype.handle=function(){var e,t=this.tempContainer.querySelector("."+n["video-content"]),o=this.tempContainer.querySelector("."+n["video-controls"]),i=this.tempContainer.querySelector("."+n["video-controls"]+" i"),s=this.tempContainer.querySelectorAll("."+n["video-time"]+" span"),r=this.tempContainer.querySelector("."+n["video-full"]+" i"),p=this.tempContainer.querySelectorAll("."+n["video-progress"]+" div"),d=this.tempContainer.querySelectorAll("."+n["video-volprogress"]+" div");function c(){console.log("bids:",p);var e=t.currentTime/t.duration,o=t.buffered.end(0)/t.duration;s[0].innerHTML=a(t.currentTime),p[0].style.width=100*e+"%",p[1].style.width=100*o+"%",p[2].style.left=100*e+"%"}function a(e){var t=(e=Math.round(e))%60;return l(Math.floor(e/60))+":"+l(t)}function l(e){return e<10?"0"+e:""+e}t.volume=.5,this.settings.autoplay&&(e=setInterval(c,1e3),t.play()),this.tempContainer.addEventListener("mouseenter",(function(){o.style.bottom=0})),this.tempContainer.addEventListener("mouseleave",(function(){o.style.bottom="-50px"})),t.addEventListener("canplay",(function(){s[1].innerHTML=a(t.duration)})),t.addEventListener("play",(function(){i.innerHTML="&#xe69d;",e=setInterval(c,1e3)})),t.addEventListener("pause",(function(){i.innerHTML="&#xe66e;",clearInterval(e)})),i.addEventListener("click",(function(){t.paused?t.play():t.pause()})),r.addEventListener("click",(function(){t.requestFullscreen()})),p[2].addEventListener("mousedown",(function(e){var o=this,n=e.pageX,i=this.offsetLeft;document.onmousemove=function(e){var s=(e.pageX-n+i+8)/o.parentNode.offsetWidth;s<0?s=0:s>1&&(s=1),p[0].style.width=100*s+"%",p[1].style.width=100*s+"%",o.style.left=100*s+"%",t.currentTime=s*t.duration},document.onmouseup=function(){document.onmousemove=document.onmouseup=null},e.preventDefault()})),d[1].addEventListener("mousedown",(function(e){var o=this,n=e.pageX,i=this.offsetLeft;document.onmousemove=function(e){var s=(e.pageX-n+i+8)/o.parentNode.offsetWidth;s<0?s=0:s>1&&(s=1),d[0].style.width=100*s+"%",o.style.left=100*s+"%",t.volume=s},document.onmouseup=function(){document.onmousemove=document.onmouseup=null},e.preventDefault()}))},e}();for(var s=document.querySelectorAll("#list li"),r=0;r<s.length;r++)s[r].addEventListener("click",(function(){var e=this.dataset.url,o=this.dataset.title;new t({width:"800px",height:"556px",title:o,pos:"center",content:function(t){console.log("video的参数",e,t),new i({url:e,elem:t,autoplay:!0})}})}))})()})();